/*----------------------------------------------------------------------------*
 * Grammar for the phaze language.
 *----------------------------------------------------------------------------*/

grammar phaze;

import common;

@header {
	package Phaze;
}

init
	: typeDecl* EOF
	;

typeDecl
	: cellDecl
	| matDecl
	| mixDecl
	;

/*----------------------------------------------------------------------------*
 * Cell definition
 *----------------------------------------------------------------------------*/

cellDecl
	: 'cell' cellBody
	;

cellBody
	: '{' varDecl* '}'
	;

/*----------------------------------------------------------------------------*
 * Material definition
 *----------------------------------------------------------------------------*/

matDecl
	: 'material' matBody
	;

matBody
	: '{' varDecl* '}'
	;

/*----------------------------------------------------------------------------*
 * Mixture definition
 *----------------------------------------------------------------------------*/

mixDecl
	: 'mixture' mixBody
	;

mixBody
	: '{' varDecl* '}'
	;

/*----------------------------------------------------------------------------*
 * Variable declaration
 *----------------------------------------------------------------------------*/

varDecl
	: ';'
	| type ID ';'
	| type ID (',' ID)* ';'
	;

type
	: primitive
	;

primitive
	: 'int'
	| 'int32_t'
	| 'int64_t'
	| 'float'
	| 'double'
	;

/*----------------------------------------------------------------------------*
 * vim: set syntax=antlr : set ts=3
 *----------------------------------------------------------------------------*/
