#! /usr/bin/env python
#------------------------------------------------------------------------------#
# Copyright (c) 2012 Los Alamos National Security, LLC
# All rights reserved.
#------------------------------------------------------------------------------#

import argparse

#------------------------------------------------------------------------------#
# parse command-line arguments
#------------------------------------------------------------------------------#

parser = argparse.ArgumentParser(description='Create phaze static interface.')
parser.add_argument('name')
parser.add_argument('template')
parser.add_argument('output')

args = parser.parse_args()

template = open(str(args.template), 'r')
output = open(str(args.output), 'w')

output.write('/*--------------------------------------' +
	'--------------------------------------*\n')
output.write(' * Copyright (c) 2012 Los Alamos National Security, LLC\n')
output.write(' * All rights reserved.\n')
output.write(' *\n')
output.write(' * DO NOT EDIT!!! THIS FILE WAS GENERATED BY ' +
	'create_static_interface\n')
output.write(' *--------------------------------------' +
	'--------------------------------------*/\n\n')

output.write('package Phaze;\n\n')
output.write('public class ' + args.name + ' {\n\n')
output.write('\tpublic static final String staticInterface =\n')

for line in template.readlines():
	stripped = line.rstrip()

	if len('\"' + line + '\\n\"\n') > 60:
		output.write('\t\t"' + stripped[0:41] + '" + \n')
		output.write('\t\t"' + stripped[41:len(line)] + '\\n" + \n')
	else:
		output.write('\t\t"' + stripped + '\\n" +\n')
# for

output.write('\t\t"\\n/* end static interface */\\n";\n\n')

output.write('} // class ' + args.name + '\n')

#------------------------------------------------------------------------------#
# cleanup
#------------------------------------------------------------------------------#

template.close()
output.close()
